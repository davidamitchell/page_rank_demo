<!DOCTYPE html>
<meta charset="utf-8">
<script type="text/javascript" src="http://localhost:8080/d3.js"></script>
<script type="text/javascript" src="http://localhost:8080/d3plus.js"></script>


<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.2/underscore-min.js"></script>

<div id="viz"></div>

<script>

  var nodes = [
    {"name": "alpha", "size": 10},
    {"name": "beta", "size": 12},
    {"name": "gamma", "size": 30},
    {"name": "delta", "size": 26},
    {"name": "epsilon", "size": 12},
    {"name": "zeta", "size": 26},
    {"name": "theta", "size": 11},
    {"name": "eta", "size": 24}
  ]

  var connections = [
    {"source": "alpha", "target": "beta"},
    {"source": "alpha", "target": "gamma"},
    {"source": "beta", "target": "delta"},
    {"source": "beta", "target": "epsilon"},
    {"source": "zeta", "target": "gamma"},
    {"source": "theta", "target": "gamma"},
    {"source": "eta", "target": "gamma"}
  ]

  var visualization = d3plus.viz()
    .container("#viz")
    .type("network")
    .edges(connections)
    .id("name")
    .draw()


  function add(visualization, nodes, connections, name, source) {
    nodes.push({"name": name, "size": 24})
    connections.push({"source": source, "target": name})

    visualization
      .edges(connections)
      .draw()

  }


  // After 2 seconds, add another node and connection!
  setTimeout(function(){
    //add(visualization, nodes, connections, "name", "gamma")
    nodes.push({"name": "newone", "size": 24})
    connections.push({"source": "newone", "target": "alpha"})

    visualization
      .edges(connections)
      .draw()

  },2000)



</script>
